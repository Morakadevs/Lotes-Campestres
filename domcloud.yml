source: 'https://github.com/Morakadevs/Lotes-Campestres'
features:
  - mysql
  - php 8.3

nginx:
  type: php
  root: public_html/public
  locations:
    - match: /
      try_files: $uri $uri/ /index.php?$args
  fastcgi: on

commands:
  - |
    mkdir -p includes/config
    echo "<?php" > includes/config/database.php
    echo "" >> includes/config/database.php
    echo "function conectarDB() : mysqli {" >> includes/config/database.php
    echo "    \$db = new mysqli('localhost', 'root', 'root', 'bienesraices_crud');" >> includes/config/database.php
    echo "    if (!\$db) {" >> includes/config/database.php
    echo "        echo 'Error no se pudo conectar';" >> includes/config/database.php
    echo "        exit;" >> includes/config/database.php
    echo "    }" >> includes/config/database.php
    echo "    return \$db;" >> includes/config/database.php
    echo "}" >> includes/config/database.php
