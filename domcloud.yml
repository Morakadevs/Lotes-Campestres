source: 'https://github.com/Morakadevs/Lotes-Campestres'
features:
  - mysql
  - php 8.3

nginx:
  type: php
  root: public_html/public
  locations:
    - match: /
      try_files: $uri $uri/ /index.php?$args
  fastcgi: on

commands:
  - |
    mkdir -p includes/config
    cat <<'PHP' > includes/config/database.php
    <?php

    function conectarDB() : mysqli {
        $db = new mysqli('localhost', 'root', 'root', 'bienesraices_crud');

        if(!$db) {
            echo "Error no se pudo conectar";
            exit;
        }

        return $db;
    }
    PHP
